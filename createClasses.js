const fs = require('fs');
const path = require('path');

// Define the directory for classes
const projectRoot = path.join(__dirname, 'force-app', 'main', 'default', 'classes','many-tests');

// Ensure the classes directory exists
if (!fs.existsSync(projectRoot)) {
    fs.mkdirSync(projectRoot, { recursive: true });
}


for (let i = 1; i <= 500; i++) {
    const className = `Test${i}Class${i+1}`;
    const classFilePath = path.join(projectRoot, `${className}.cls`);
    const xmlFilePath = path.join(projectRoot, `${className}.cls-meta.xml`);


    const clsContent = `@isTest
        public class ${className} {
            private static List<String> generateTestData() {
                List<String> characters = new List<String>();
                for(Integer i = 0; i < 1000; i++) {
                    characters.add('Character_' + i);
                }
                return characters;
            }
            
            @isTest
            static void testMethod1${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(String character : testData) {
                    // Simple iteration with string manipulation
                    String processed = character.toUpperCase() + '_PROCESSED';
                    System.debug(processed);
                }
                Test.stopTest();
            }
            
            @isTest
            static void testMethod2${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(Integer i = 0; i < testData.size(); i++) {
                    // Different iteration approach using index
                    String character = testData[i];
                    String processed = character.toLowerCase() + '_' + i;
                    System.debug(processed);
                }
                Test.stopTest();
            }

            @isTest
            static void testMethod3${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(Integer i = 0; i < testData.size(); i++) {
                    // Different iteration approach using index
                    String character = testData[i];
                    String processed = character.toLowerCase() + '_' + i;
                    System.debug(processed);
                }
                Test.stopTest();
            }

            @isTest
            static void testMethod4${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(Integer i = 0; i < testData.size(); i++) {
                    // Different iteration approach using index
                    String character = testData[i];
                    String processed = character.toLowerCase() + '_' + i;
                    System.debug(processed);
                }
                Test.stopTest();
            }

            @isTest
            static void testMethod5${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(Integer i = 0; i < testData.size(); i++) {
                    // Different iteration approach using index
                    String character = testData[i];
                    String processed = character.toLowerCase() + '_' + i;
                    System.debug(processed);
                }
                Test.stopTest();
            }

            @isTest
            static void testMethod6${className}() {
                List<String> testData = generateTestData();
                
                Test.startTest();
                for(Integer i = 0; i < testData.size(); i++) {
                    // Different iteration approach using index
                    String character = testData[i];
                    String processed = character.toLowerCase() + '_' + i;
                    System.debug(processed);
                }
                Test.stopTest();
            }
    }`; 

    // Create the .xml file content
    const xmlContent = `<?xml version="1.0" encoding="UTF-8"?>
<ApexClass xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <status>Active</status>
</ApexClass>`;

    // Write the .cls file
    fs.writeFileSync(classFilePath, clsContent, 'utf8');

    // Write the .xml file
    fs.writeFileSync(xmlFilePath, xmlContent, 'utf8');

    console.log(`Created ${className}.cls and ${className}.cls-meta.xml`);
}


